(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{6924:function(e,t,r){Promise.resolve().then(r.bind(r,3445))},3445:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(7437),a=r(6463),o=r(2265),n=r(4663);function l(){let e=(0,a.useRouter)(),[t,r]=(0,o.useState)(!1),[l,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(null),[m,x]=(0,o.useState)(null),u=async()=>{r(!0),i("");try{let e=await fetch((0,n.k)("/api/rooms"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to create room");let t=await e.json();d(t),sessionStorage.setItem("hostPin_".concat(t.roomId),t.hostPin),r(!1)}catch(e){i("Failed to create room. Please try again."),r(!1)}},g=async(e,t)=>{try{await navigator.clipboard.writeText(e),x(t),setTimeout(()=>x(null),2e3)}catch(e){console.error("Failed to copy:",e)}};if(c){let t=(()=>{if(!c)return"";let e=window.location.origin;return"".concat(e,"/meet/room/").concat(c.roomId,"?pin=").concat(c.participantPin)})();return(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-8 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("svg",{className:"h-16 w-16 text-green-500 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Room Created Successfully!"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Save these details to access your room later"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:"Room ID"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 font-mono text-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 px-3 py-2 rounded border",children:c.roomId}),(0,s.jsx)("button",{onClick:()=>g(c.roomId,"roomId"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"roomId"===m?"Copied!":"Copy"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1 block",children:"Host PIN (Save this!)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 font-mono text-lg text-blue-900 dark:text-blue-100 bg-white dark:bg-gray-800 px-3 py-2 rounded border border-blue-200 dark:border-blue-700",children:c.hostPin}),(0,s.jsx)("button",{onClick:()=>g(c.hostPin,"hostPin"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"hostPin"===m?"Copied!":"Copy"})]}),(0,s.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:"Use this PIN to rejoin as host"})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-1 block",children:"Share Link (for participants)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"flex-1 font-mono text-xs text-green-900 dark:text-green-100 bg-white dark:bg-gray-800 px-3 py-2 rounded border border-green-200 dark:border-green-700 break-all",children:t}),(0,s.jsx)("button",{onClick:()=>g(t,"link"),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm whitespace-nowrap",children:"link"===m?"Copied!":"Copy Link"})]}),(0,s.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 mt-2",children:["Participant PIN: ",(0,s.jsx)("span",{className:"font-mono font-semibold",children:c.participantPin})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{c&&e.push("/room/".concat(c.roomId,"?pin=").concat(c.hostPin,"&host=true"))},className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Join Room"}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Home"})]})]})})})}return(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-8 bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Host a Meeting"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Create a new meeting room with secure PIN access"})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md space-y-6",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-2",children:"How it works"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 text-left",children:[(0,s.jsx)("li",{children:"• You'll get a unique Room ID"}),(0,s.jsx)("li",{children:"• A Host PIN for admin controls"}),(0,s.jsx)("li",{children:"• A Participant PIN for guests"}),(0,s.jsx)("li",{children:"• Room stays active for 24 hours"})]})]}),l&&(0,s.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:l})}),(0,s.jsx)("button",{onClick:u,disabled:t,className:"w-full py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Room..."]}):"Create Room"}),(0,s.jsx)("button",{onClick:()=>e.push("/"),className:"w-full py-3 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Back to Home"})]})})]})})}},4663:function(e,t,r){"use strict";function s(e){return window.location.pathname.startsWith("/meet")?"/meet".concat(e):e}r.d(t,{k:function(){return s}})},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6924)}),_N_E=e.O()}]);